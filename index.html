<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de Relat√≥rios</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="reset.css">
</head>
<body>
    <!-- Cont√™iner Principal com Duas Metades -->
    <div class="main-container">
        <!-- Metade Esquerda: Formul√°rio de Entrada -->
        <div class="left-panel">
            <div id="input-form" class="form-container">
                <h1>Gerar relat√≥rio do investidor</h1>

                <!-- Se√ß√£o de Leituras -->
                <div class="section readings">
                    <div class="input-group">
                        <label>Nome do investidor:</label>
                        <input type="text" id="nome-investidor" placeholder="Nome do Investidor" oninput="updatePreview()">
                    </div>
                    <div class="input-group">
                        <label>Leitura anterior:</label>
                        <input type="date" id="leitura-anterior" oninput="updatePreview()">
                    </div>
                    <div class="input-group">
                        <label>Leitura atual:</label>
                        <input type="date" id="leitura-atual" oninput="updatePreview()">
                    </div>
                    <div class="input-group">
                        <label>Pr√≥xima leitura:</label>
                        <input type="date" id="proxima-leitura" oninput="updatePreview()">
                    </div>
                    <div class="input-group">
                        <label>M√™s de refer√™ncia:</label>
                        <input type="month" id="mes-referencia" oninput="updatePreview()">
                    </div>
                    <div class="input-group">
                        <label>Valor do cr√©dito em conta:</label>
                        <input type="text" id="valor-credito" placeholder="R$" oninput="updatePreview()">
                    </div>
                </div>

                <!-- Se√ß√£o de Valores -->
                <div class="section values">
                    <div class="input-group">
                        <label>Valor da loca√ß√£o:</label>
                        <input type="text" id="valor-locacao" placeholder="R$" oninput="updatePreview()">
                    </div>
                    <div class="input-group">
                        <label>Fatura Concession√°ria:</label>
                        <input type="text" id="fatura-copel" placeholder="R$" oninput="updatePreview()">
                    </div>
                    <div class="input-group">
                        <label>Valor do kWh:</label>
                        <input type="text" id="valor-kwh" placeholder="R$" oninput="updatePreview()">
                    </div>
                    <div class="input-group">
                        <label>Energia gerada:</label>
                        <input type="text" id="energia-gerada" placeholder="KWh" oninput="updatePreview()">
                    </div>
                    <div class="input-group">
                        <label>Energia consumida pelo pr√≥prio investidor:</label>
                        <input type="text" id="energia-consumida" placeholder="KWh" oninput="updatePreview()">
                    </div>
                    <div class="input-group">
                        <label>Energia enviada para os cooperados:</label>
                        <input type="text" id="energia-enviada" placeholder="KWh" oninput="updatePreview()">
                    </div>
                    <div class="input-group">
                        <label>Total consumido pelos cooperados:</label>
                        <input type="text" id="total-consumido" placeholder="KWh" oninput="updatePreview()">
                    </div>
                    <div class="input-group">
                        <label>Total acumulado pelos cooperados:</label>
                        <input type="text" id="total-acumulado" placeholder="Saldo KWh" oninput="updatePreview()">
                    </div>
                    <div class="input-group">
                        <label>Retorno acumulado (R$):</label>
                        <input type="text" id="retorno-acumulado" placeholder="R$" oninput="updatePreview()">
                    </div>
                </div>

                <!-- Gr√°ficos -->
                <div class="section charts">
                    <div class="chart-box">
                        <p>HIST√ìRICO DE RECEBIMENTO (R$)</p>
                        <div class="chart-controls">
                            <div class="input-group">
                                <label>M√™s:</label>
                                <input type="text" id="mes-historico" placeholder="M√™s">
                            </div>
                            <div class="input-group">
                                <label>Valor:</label>
                                <input type="text" id="valor-historico" placeholder="R$">
                            </div>
                            <button class="add-value" onclick="addHistorico()">Adicionar</button>
                            <button class="delete-value" onclick="deleteHistorico()">Delete</button>
                        </div>
                        <canvas id="historicoChart"></canvas>
                    </div>
                </div>

                <!-- Bot√£o Gerar PDF -->
                <button class="generate-pdf" onclick="generatePDF()">Gerar PDF</button>
            </div>
        </div>

        <!-- Metade Direita: Pr√©via do PDF -->
        <div class="right-panel">
            <div id="pdf-template" class="pdf-container">
                <div class="header">
                    <div class="logo">
                        <img src="./Assets/logoG.jpeg" alt="Canal Verde Logo">
                    </div>
                    <div class="title-contact">
                        <h1>Relat√≥rio do Investidor</h1>
                        <div class="contact">
                            <p>+55 (44) 9 9897-7059</p>
                            <p>gestao@canalverdeenergia.com.br</p>
                            <p>canalverdeenergia.com.br</p>
                        </div>
                    </div>
                </div>

                <div class="section readings">
                    <div class="readings-top">
                        <div class="input-group">
                            <label>Usina:</label>
                            <span id="pdf-nome-investidor"></span>
                        </div>
                    </div>
                    <div class="readings-bottom">
                        <div class="input-group">
                            <label>Leitura anterior:</label>
                            <span id="pdf-leitura-anterior"></span>
                        </div>
                        <div class="input-group">
                            <label>Leitura atual:</label>
                            <span id="pdf-leitura-atual"></span>
                        </div>
                        <div class="input-group">
                            <label>Pr√≥xima leitura:</label>
                            <span id="pdf-proxima-leitura"></span>
                        </div>
                        <div class="input-group">
                            <label>M√™s de refer√™ncia:</label>
                            <span id="pdf-mes-referencia"></span>
                        </div>
                        <div class="input-group credit-highlight">
                            <label>Valor do cr√©dito em conta:</label>
                            <span id="pdf-valor-credito"></span>
                        </div>
                    </div>
                </div>

                <div class="section values">
                    <div class="value-box">
                        <p>VALOR DA LOCA√á√ÉO</p>
                        <p id="pdf-valor-locacao"></p>
                    </div>
                    <div class="value-box">
                        <p>FATURA COPEL</p>
                        <p id="pdf-fatura-copel"></p>
                    </div>
                    <div class="value-box">
                        <p>VALOR DO kWh</p>
                        <p id="pdf-valor-kwh"></p>
                    </div>
                    <div class="value-box">
                        <p>ENERGIA GERADA</p>
                        <p id="pdf-energia-gerada"></p>
                    </div>
                    <div class="value-box">
                        <p>ENERGIA CONSUMIDA PELO PR√ìPRIO INVESTIDOR</p>
                        <p id="pdf-energia-consumida"></p>
                    </div>
                    <div class="value-box">
                        <p>ENERGIA ENVIADA PARA OS COOPERADOS</p>
                        <p id="pdf-energia-enviada"></p>
                    </div>
                    <div class="value-box">
                        <p>TOTAL CONSUMIDO PELOS COOPERADOS</p>
                        <p id="pdf-total-consumido"></p>
                    </div>
                    <div class="value-box">
                        <p>TOTAL ACUMULADO PELOS COOPERADOS (TODOS OS PER√çODOS)</p>
                        <p id="pdf-total-acumulado"></p>
                    </div>
                </div>

                <div class="section charts">
                    <div class="chart-container">
                        <div class="recebimento-table">
                            <p>RECEBIMENTO (R$)</p>
                            <table id="pdf-recebimentoTable">
                                <thead>
                                    <tr>
                                        <th>M√™s</th>
                                        <th>Valor (R$)</th>
                                    </tr>
                                </thead>
                                <tbody id="pdf-recebimentoTableBody"></tbody>
                            </table>
                            <p class="retorno-acumulado">üí∞ RETORNO ACUMULADO <span id="pdf-retorno-acumulado"></span></p>
                        </div>
                        <div class="chart-box">
                            <p>HIST√ìRICO DE RECEBIMENTO (R$)</p>
                            <canvas id="pdf-historicoChart"></canvas>
                        </div>
                    </div>
                </div>

                <div class="section differentials">
                    <h2>DIFERENCIAIS CANAL VERDE</h2>
                    <div class="differentials-row">
                        <div class="differential-box">
                            <p><strong>Administra√ß√£o inteligente</strong></p>
                            <p>Realizada por uma cooperativa totalmente estruturada, regulamentada e com viv√™ncia pr√°tica.</p>
                        </div>
                        <div class="differential-box">
                            <p><strong>Seguran√ßa t√©cnica</strong></p>
                            <p>Nas √°reas de engenharia, jur√≠dica, tribut√°ria e comercial da usina, orquestrada por um time de profissionais t√©cnicos especializados.</p>
                        </div>
                        <div class="differential-box">
                            <p><strong>Gest√£o √† vista</strong></p>
                            <p>Voc√™ economiza logo no primeiro m√™s ap√≥s a formaliza√ß√£o e se livra de qualquer infla√ß√£o energ√©tica.</p>
                        </div>
                    </div>
                    <div class="differentials-row">
                        <div class="differential-box">
                            <p><strong>Burocracia zero</strong></p>
                            <p>N√£o demanda esfor√ßos e nem tempo do investidor e cooperado. Atuamos em todos os tr√¢mites necess√°rios √† opera√ß√£o do projeto.</p>
                        </div>
                        <div class="differential-box">
                            <p><strong>Projeto espec√≠fico</strong></p>
                            <p>E sob medida, de acordo com a necessidade de cada cliente sobre projetos de Energias Renov√°veis.</p>
                        </div>
                        <div class="qr-code">
                            <div id="qrcode"></div>
                            <p>Leia o QR Code e saiba mais</p>
                        </div>
                    </div>
                </div>

                <div class="qr-code">
                    <div id="qrcode"></div>
                    <p>Leia o QR Code e saiba mais</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="script.js"></script>
</body>
</html>